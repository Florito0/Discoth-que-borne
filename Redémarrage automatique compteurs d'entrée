<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Redémarrage Automatique</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Roboto', sans-serif; }
    body { background-color: #121212; color: #ffffff; display: flex; justify-content: center; align-items: center; min-height: 100vh; padding: 20px; }
    .container { background-color: #1e1e1e; border-radius: 12px; width: 100%; max-width: 600px; overflow: hidden; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5); }
    .header { background-color: #2c2c2c; padding: 20px; text-align: center; border-bottom: 1px solid #333; }
    h1 { font-size: 24px; font-weight: 700; margin-bottom: 8px; }
    .subtitle { font-size: 16px; color: #b3b3b3; }
    .schedule-section { padding: 20px; }
    .day-schedule { margin-bottom: 10px; }
    .day-header { display: flex; align-items: center; padding: 10px; background-color: #252525; border-radius: 6px; transition: background-color 0.2s ease; }
    .day-header.active { background-color: #333; border-left: 4px solid #9733EE; }
    .toggle { margin-right: 15px; }
    .day-name { font-size: 18px; font-weight: 500; flex: 1; }
    .status { font-size: 14px; margin-right: 15px; }
    .status.active { color: #33cc33; } /* Vert pour Activé */
    .status.inactive { color: #b3b3b3; } /* Gris pour Désactivé */
    .time-input { padding: 8px; background-color: #333; border: none; color: white; border-radius: 4px; width: 100px; text-align: center; }
    .time-input:disabled { background-color: #252525; opacity: 0.6; cursor: not-allowed; }
    .time-input:focus { outline: none; background-color: #3a3a3a; }
    .update-btn { padding: 15px; background: linear-gradient(to right, #9733EE, #DA22FF); color: white; border: none; border-radius: 6px; font-size: 18px; font-weight: 600; cursor: pointer; transition: opacity 0.2s; width: 100%; margin-top: 20px; }
    .update-btn:hover { opacity: 0.9; }
    .update-btn:active { opacity: 0.8; }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>Redémarrage Automatique</h1>
      <div class="subtitle">Planification de la remise à zéro des compteurs</div>
    </div>
    
    <div class="schedule-section">
      <div class="day-schedule">
        <div class="day-header">
          <input type="checkbox" class="toggle" id="lundi-toggle">
          <span class="day-name">Lundi</span>
          <span class="status inactive">Désactivé</span>
          <input type="time" class="time-input" value="00:00" disabled>
        </div>
      </div>
      <div class="day-schedule">
        <div class="day-header">
          <input type="checkbox" class="toggle" id="mardi-toggle">
          <span class="day-name">Mardi</span>
          <span class="status inactive">Désactivé</span>
          <input type="time" class="time-input" value="00:00" disabled>
        </div>
      </div>
      <div class="day-schedule">
        <div class="day-header">
          <input type="checkbox" class="toggle" id="mercredi-toggle">
          <span class="day-name">Mercredi</span>
          <span class="status inactive">Désactivé</span>
          <input type="time" class="time-input" value="00:00" disabled>
        </div>
      </div>
      <div class="day-schedule">
        <div class="day-header">
          <input type="checkbox" class="toggle" id="jeudi-toggle">
          <span class="day-name">Jeudi</span>
          <span class="status inactive">Désactivé</span>
          <input type="time" class="time-input" value="00:00" disabled>
        </div>
      </div>
      <div class="day-schedule">
        <div class="day-header">
          <input type="checkbox" class="toggle" id="vendredi-toggle">
          <span class="day-name">Vendredi</span>
          <span class="status inactive">Désactivé</span>
          <input type="time" class="time-input" value="00:00" disabled>
        </div>
      </div>
      <div class="day-schedule">
        <div class="day-header">
          <input type="checkbox" class="toggle" id="samedi-toggle">
          <span class="day-name">Samedi</span>
          <span class="status inactive">Désactivé</span>
          <input type="time" class="time-input" value="00:00" disabled>
        </div>
      </div>
      <div class="day-schedule">
        <div class="day-header">
          <input type="checkbox" class="toggle" id="dimanche-toggle">
          <span class="day-name">Dimanche</span>
          <span class="status inactive">Désactivé</span>
          <input type="time" class="time-input" value="00:00" disabled>
        </div>
      </div>
      
      <button class="update-btn">Enregistrer la planification</button>
    </div>
  </div>

  <script>
    // Gestion de l'activation/désactivation
    document.querySelectorAll('.toggle').forEach(toggle => {
      toggle.addEventListener('change', (e) => {
        const dayHeader = e.target.closest('.day-header');
        const timeInput = dayHeader.querySelector('.time-input');
        const status = dayHeader.querySelector('.status');
        
        timeInput.disabled = !e.target.checked;
        dayHeader.classList.toggle('active', e.target.checked);
        
        if (e.target.checked) {
          status.textContent = 'Activé';
          status.classList.remove('inactive');
          status.classList.add('active');
        } else {
          status.textContent = 'Désactivé';
          status.classList.remove('active');
          status.classList.add('inactive');
          timeInput.value = '00:00'; // Réinitialise l'heure quand désactivé
        }
      });
    });

    // Gestion de l'enregistrement
    document.querySelector('.update-btn').addEventListener('click', () => {
      const schedule = {};
      let hasError = false;

      document.querySelectorAll('.day-schedule').forEach(day => {
        const toggle = day.querySelector('.toggle');
        const timeInput = day.querySelector('.time-input');
        const dayName = day.querySelector('.day-name').textContent;

        if (toggle.checked && !timeInput.value) {
          hasError = true;
          timeInput.style.border = '1px solid #cc3333';
        } else {
          timeInput.style.border = 'none';
          schedule[dayName] = toggle.checked ? timeInput.value : 'Désactivé';
        }
      });

      if (hasError) {
        alert('Veuillez spécifier une heure pour tous les jours activés.');
      } else {
        console.log('Planification enregistrée :', schedule);
        alert('Planification enregistrée avec succès !');
      }
    });
  </script>
</body>
</html>
